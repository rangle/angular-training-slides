<!-- .slide: data-background="../content/images/title-slide.jpg" -->
<!-- .slide: id="a11y" -->
## Including Accessibility in Projects

---
<!-- .slide: id="a11y-become-accessible" -->
## So - How do we 'Become Accessible'?

- Accessibility is generally defined as giving people of all abilities opportunities to participate fully in everyday life.  This more recently includes use of digital technology.

- Usability and Accessibility are **highly** linked!

- Identifying accessibility challenges and how to overcome them is the focus of the workshop

---
<!-- .slide: id="a11y-look-example" -->
## Accessibility Example 

So let's look at examples!

I need a volunteer!

---
<!-- .slide: id="a11y-tools" -->
## Voiceover and JAWS

As you can see, the ultimate way to test what works is to walk through a site visually and with a screen reader
- Visual inspection is as important as using a screen reader

<br>To help utiilize screen readers:
- Use either a [voiceover reference](https://www.apple.com/voiceover/info/guide/_1131.html) or a [JAWS reference](http://doccenter.freedomscientific.com/doccenter/archives/training/jawskeystrokes.htm) to help you with navigation of screen readers

<br>For this workshop, a few simple voiceover (VO) commands we will use to navigate:
- Turn voiceover on or off = Cmd-fn-f5
- Interact with an item = Ctrl-Shift-Option-Down Arrow
- Stop interaction = Ctrl-Shift-Option-Up Arrow
- Perform the default action for the item in the VoiceOver cursor = Ctrl-Option-Space bar
- Navigate all elements in a screen = arrow keys (not tab!!)
- Stop reading = Ctrl

---
<!-- .slide: id="a11y-improve" -->
## Improving Accessibility

Sites must be Perceivable, Operable, Understandable and Robust to meet the key principles of accessibility (P.O.U.R.).  Addressing the following common accessibliity challenges will help us acheive that:

**'Low Hanging Fruit'** - Impacting 'Perceivable' and 'Understandable'
1. A user cannot understand the content on screen
  1. Form fields that are not labelled properly
  1. Data tables cannot be read or mixed / incorrect use of date vs layout tables
1. A user cannot understand what images are on screen, i.e. no alternative text or captions
1. A user cannot see content due to insufficient colour contrast between foreground and background

**More Complexity to Fix** - Impact 'Operable' and 'Understandable'
1. Content and functionality cannot be operated through a keyboard
1. Reading order that is not in a meaningful sequence

Designers and developers can include several accessibility and design features **in combination with each other** to overcome challenges, such as the following!

---
<!-- .slide: id="a11y-font-colour-images" -->
## Font and Images

- Fonts: Use sans serif fonts and set a base pixel measure at 1em = 16px (=12pt)
  - Use a site like <pxtoem.com> to convert `pt` measurement to `px` and/or `em` measurement for relative font sizing
  - Alter the base depending on the device type: Desktop = 1.0em, Tablet = 1.1em, Smartphone=1.2em
<br><br>
- Images: Images must be title tagged or have figures/numbers describing the image
<br>![alt text](content/images/a11yfont.png "example of accessible font and colour ratio") ![alt text](content/images/a11ycolour2.png "example of accessible font and colour ratio")
<br>
<br>
- Use relative width and font sizing over absolutes where possible
  - `width: 50%;` 
  - `font-size: 1em;`, `font-size: 80%;`

---
<!-- .slide: id="a11y-measuring-colour-contrast" -->
## Measuring Colour Contrast

- Look at the contrast of Foreground colour to background colour

- Large text is consider 18 pt or larger if not bold; 14pt or larger if bold
  - Requires a 3:1 colour contrast. 

- Normal text falls under the above text sizes for non-bold and bold text respectively
  - Requires a 4:5:1 colour contrast

- Use a site like [the webaim contrast checker](http://webaim.org/resources/contrastchecker/) or [colorable](https://colorable.jxnblk.com/) to check foreground to background contrast
    - Any colour contrast checker like the webaim site will work to do this check

---
<!-- .slide: id="a11y-links-and-buttons" -->
## Accessible Design - Links and Buttons
- Links and Buttons: Must be descriptive (e.g. 'complete order' instead of 'click here')
- Don't put URL's onto a page, instead hyperlink text describing what link is for
  - Example from the previous page - the link to [colorable](https://colorable.jxnblk.com/)
- Must indicate the action of the link or button as part of the link or alt/title text (e.g. 'this will open in a new window') 

<br>![alt text](content/images/a11ylinkalt.png "example of accessible link and button")

- Use links and buttons to explicitly provide calls to action and don't disable them - instead throw an exception
<br>![alt text](content/images/jbdisabled.png "example of inaccessible button")


<!-- TABLES AND MODALS-->

---
<!-- .slide: id="a11y-dev-table-ex" -->
## Accessible Development - Tables

- Say we want to develop this table

<br>![alt text](content/images/a11ytable.png "example table")
<br>Example table
<br>

- Consider if it is a data table versus a layout table
- Consider use of `<div>` versus `<table>` tags

---
<!-- .slide: id="a11y-table-considerations" -->
## Accessible Development - Table Considerations

- Layout tables should be done using CSS and DIVS or table tags
  - Can include ARIA roles to define table elements for screen readers if using divs or CSS classes to denote table elements, e.g. `class="row"`
- If developing layout tables in HTML
  - Use the non-standard `datatable=0` attribute on the Table tags to tell JAWS to ignore layout tables
  - Don't use the `summary` attribute on the Table tag if you must create a layout table (or set the `summary` attribute to null)
  - Don't use `<TH>` or Caption tags on layout tables
  
- You can use `<TH>` and summary attributes for data tables and include the `scope="ROW"` or `scope="COL"` attributes to indicate what the `<TH>` is for

---
<!-- .slide: id="a11y-modals" -->
## Accessible Design - Modals and Pop-Up Windows
- Modals should be developed for information purposes and not have complex interactive elements.
- Pages with lengthy content should have clear markers indicating the scope of the content and provide the ability to jump to key points including the beginning and end

<br>![alt text](content/images/a11ymodal.jpg "example of accessible modal window with link to top of content")
<br>Example of an accessible modal window with link to top of page
<br>

- All elements of a modal should work as regular pages do
- When a modal is closed, focus should return to the element clicked to call the modal

Let's take a quick look at [Jet Blue](https://www.jetblue.com) (and continue to do so for certain examples later)


<!-- SECTIONS AND TAB ORDER-->

---
<!-- .slide: id="a11y-page-sections" -->
## Accessible Development - Addressing more Complex Elements

- Several things can be done to improve operability and understandability
  - Functionally dividing the page up so that the user knows what section they are in with a screen reader
  - Defining hidden text, links and sections to improve the readability of pages
  - Use of `tabindex`
  
- These will be examined in the following slides

---
<!-- .slide: id="a11y-dividing-the-page" -->
## Accessible Development - Dividing the Page

- Define the header, footer, and main sections of a page at a minimum
  - Header: `<header class="Header" role="banner" id="header" tabindex="0">`
  - Main: `<div id="content" class="wpthemeMainContent" role="main" tabindex="0" style="min-height: 587px;">`
  - Footer: `<footer id="footer" class="Footer" role="contentinfo" tabindex="0">`

---
<!-- .slide: id="a11y-offscreen" -->
## Accessible Development - CSS for Navigation and Offscreen Text

- Develop an `off-screen text` class, use CSS `.clp` class or use bootstrap's `sr-only` class to hide screen reader only content from visual users
- Develop a `skip to nav` class to hide links that screen reader users use to bypass sections they've already seen

```css
.offscreen-text {
  left: -3000px;
  position: absolute;
  width: 500px;
  font-size: 100%;}
```

```css
.SkipToNav {
  position: absolute;
  top: 0;
  right: 0;
  font-size: .6em;
  padding-right: .375em;
}
```

```css
.clp {
    position: absolute !important; 
    clip: rect(1px,1px,1px,1px); 
}
```

---
<!-- .slide: id="a11y-tabbing-order" -->
## Accessible Design - Tabbing Order

- When developing sites accessibily, ensure that read / tabbing order is left to right, top to bottom so that sites 'read like a book'
<br>![alt text](content/images/a11yread.gif "gif showing accessible tabbing order of a page") 
<br>
- Use HTML headers in sequnce (H1 - H6)
  - These are different from CSS use of headers for styling

- You can explicitly set tab order as well for proper navigation using native elements, ARIA, and `tabindex` to set the screen read order 
- To put focus on elements in a certain order for a screen reader, the `tabindex` attribute can be set as negative, 0 or positive integers

- For example, if `tabindex` is set to 2, 1, 3, then visually, elements may read 1, 2, 3, but a screen reader will pick up 2, 1, 3
<br>![alt text](content/images/a11ytab.gif "example of tab order")
<br>

---
<!-- .slide: id="a11y-tabbing-negative" -->
## Accessible Development - Tabbing Order - Negative 

- Use `tabindex="-1"` to put focus on elements that need to be read by screen readers that are to remain hidden visually initially

For example - we add this HTML to the top of a page to dynamically show error messages
```
<div role="group" id="errorSummary" aria-labelledby="errorSummaryHeading" tabindex="-1">
  <h2 id="errorSummaryHeading">Your information contains three errors</h2>
    <ul>
      ...
    </ul>
</div>
```
- We want to focus the cursor at the top of the page to start the reading order correctly, but don't want to read the error yet
- Here we would use scripting to change the visibility of the error when an exception is thrown (and set `tabindex="0"` on change)

---
<!-- .slide: id="a11y-tabbing-zero" -->
## Accessible Development - Tabbing Order - Zero or Positive

- Use `tabindex=0` to include elements in the natural tab order of the content - e.g. with `<div>`
  - It is recommended to include a native HTML element - picks up tab order naturally

- Do not need to use positive integers for `tabindex`, e.g. `tabindex="1"` otherwise

Example of combined use of `tabindex`
```
<!-- we want to focus on this list and dynamically show/read the bulleted links at a certain time -->
<ul role="menu" aria-hidden="true">								
  <li role="menuitem" tabindex="0">										
    <a href="a.com" title="go to something.com" tabindex="-1">something.com</a>
    <a href="a.com" title="go to x.com">x.com</a>											
  </li>									
  <li role="menuitem" tabindex="0">										
	  <a href="b.com" title="go to b.com" tabindex="-1">b.com</a>											
  </li>									
</ul>
```

<!-- TESTING-->

---
<!-- .slide: id="a11y-testing" -->
## Testing Accessibility - Approach

- Accessibility testing should typically start with manual testing and syntactical scanning, then be automated
- Manually: Test against a checklist of items as compared to WCAG 2.0 AA standards to ensure compliance
- Syntactically: Use Accessibility Developer Tools on [Chrome](https://developer.chrome.com/devtools) and [Firefox](https://addons.mozilla.org/en-US/firefox/addon/accessibility-evaluation-toolb/), [HiSoftware Compliance Sheriff](https://www.cryptzone.com/products/compliance-sheriff), [Webaim Wave](www.wave.webaim.org/)
- Most importantly, end to end test using screen readers (Windows) and voiceover (Mac)
- Then can automate tests with tools like Axecore
- Remember to include a wide range of tests to handle a variety of accessible needs
  - Users have a degree of needs, for example for vision, from colour blindness to full blindness
    - Use tools like this [colorblindness filter](https://www.toptal.com/designers/colorfilter) to test your site
  - Use a tool like [Microsoft's Inclusive Design toolkit](https://www.microsoft.com/en-us/design/inclusive) to help develop your AC for accessible testing




<!-- APPENDICIES-->

---
<!-- .slide: id="a11y-test-ex1" -->
## Appendix: Testing Accessibility - Example #1

Upon inspection,the following inaccessible header line at the top of a form would have to be modified from:

```HTML
<h1>To Do</h1>
```

To:

```HTML
<header>
    <h1 class="offscreen-text">Start of header section of form</h1>
    <h1 tabindex="0">To Do</h1>
</header>
```

A `<main>` and `<footer>` section could then be added to the rest of the form as required

---
<!-- .slide: id="a11y-test-ex2" -->
## Appendix: Testing Accessibility - Example #2

Upon inspection, the following inaccessible form input would have to be modified from:

```HTML
<p>
    New Item: <input name="newItem" required>
    <button type="submit" disabled>Add</button>
</p>
```

To:

```HTML
<p class="text">
    New Item: <input name="newItem" title="input a new item in alphanumeric format" required>
    <button type="submit" class="button" title="Select this button to add a new item to the list">Add</button>
</p>
```

---
<!-- .slide: id="a11y-test-ex3" -->
## Appendix: Testing Accessibility - Example #3

Upon inspection, the following inaccessible error message section would have to be modified from:

```HTML
<ul class="errors">
    <li>
      New item text is required
    </li>
</ul>
```

To:

```HTML
<div class="error"; tabindex="-1" aria-hidden="true" class="error">
    <span>Error:  Please enter item detail in alphanumeric format item</span>
</div>
```

---
<!-- .slide: id="a11y-tool-template" -->
## Appendix: Accessible Development - A Note About Using Templates

- Note, if you are using Bootstrap templates, look for out of the box support for accessibility.  Many templates incorporate things like the `sr-only` class and aria roles to aid screen readers. 
  -  Need for additional accessible feature implementation will have to determined on a template by template basis
- Tachyons.io docs/templates have varying degrees of support.  Again, ensure you implement and test all accessibility considerations thoroughly.

---
<!-- .slide: id="a11y-what-is-accessibility" -->
## Appendix:  Accessibility Definitions and the Law

- Accessibility can often be thought of as being complimentary to, or a subset of usability.  A feature on a site may be highly usable but inaccessible.  

  - For example, a button may be easy to find and click, but inaccessible via a keyboard

- Accessibilty is now law in many parts of the world including within Canada and the U.S.

- Accessiblity requirements for digital content / media are based on the international standards defined by the W3C.  
    - In 1999, the Web Content Accessibility Guidelines (WCAG) 1.0 were developed, updated to v2.0 in 2008
    - There are three levels of compliance that an organization can meet in  WCAG 2.0:  A, AA and AAA
    - Most compliance internationally, including within government, is against v2.0 AA
